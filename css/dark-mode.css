/**
 * SYSTÈME DE MODE SOMBRE
 * Variables CSS pour supporter les thèmes clair et sombre
 * Compatible avec toutes les pages du site SIGMA Alumni
 */

/* ==========================================
   THÈME CLAIR (PAR DÉFAUT)
   ========================================== */
:root {
    /* Couleurs de fond */
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --bg-hover: #e2e8f0;
    --bg-input: #ffffff;
    --bg-modal: #ffffff;
    --bg-card: #ffffff;
    
    /* Couleurs de texte */
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --text-tertiary: #94a3b8;
    --text-inverse: #ffffff;
    --text-link: #2563eb;
    --text-link-hover: #1d4ed8;
    
    /* Couleurs de bordure */
    --border-primary: #e2e8f0;
    --border-secondary: #cbd5e1;
    --border-focus: #3b82f6;
    
    /* Couleurs d'accent (SIGMA) */
    --accent-primary: #2563eb;
    --accent-secondary: #1e40af;
    --accent-hover: #1d4ed8;
    --accent-light: #dbeafe;
    
    /* Couleurs de statut */
    --success: #10b981;
    --success-bg: #d1fae5;
    --warning: #f59e0b;
    --warning-bg: #fef3c7;
    --error: #ef4444;
    --error-bg: #fee2e2;
    --info: #3b82f6;
    --info-bg: #dbeafe;
    
    /* Ombres */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    
    /* Opacités */
    --opacity-disabled: 0.5;
    --opacity-hover: 0.8;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
    
    /* Transitions */
    --transition-fast: 150ms ease-in-out;
    --transition-normal: 300ms ease-in-out;
    --transition-slow: 500ms ease-in-out;
}

/* ==========================================
   THÈME SOMBRE
   ========================================== */
[data-theme="dark"] {
    /* Couleurs de fond */
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --bg-hover: #475569;
    --bg-input: #1e293b;
    --bg-modal: #1e293b;
    --bg-card: #1e293b;
    
    /* Couleurs de texte */
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --text-tertiary: #94a3b8;
    --text-inverse: #0f172a;
    --text-link: #60a5fa;
    --text-link-hover: #93c5fd;
    
    /* Couleurs de bordure */
    --border-primary: #334155;
    --border-secondary: #475569;
    --border-focus: #60a5fa;
    
    /* Couleurs d'accent (SIGMA) - Ajustées pour le mode sombre */
    --accent-primary: #60a5fa;
    --accent-secondary: #3b82f6;
    --accent-hover: #93c5fd;
    --accent-light: #1e3a8a;
    
    /* Couleurs de statut - Ajustées pour le mode sombre */
    --success: #34d399;
    --success-bg: #064e3b;
    --warning: #fbbf24;
    --warning-bg: #78350f;
    --error: #f87171;
    --error-bg: #7f1d1d;
    --info: #60a5fa;
    --info-bg: #1e3a8a;
    
    /* Ombres - Plus prononcées en mode sombre */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
    
    /* Gradients ajustés */
    --gradient-primary: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
    --gradient-secondary: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
}

/* ==========================================
   STYLES GLOBAUX AVEC VARIABLES
   ========================================== */

body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color var(--transition-normal), color var(--transition-normal);
}

/* Conteneurs et cartes */
.container,
.card,
.box,
.panel,
.modal-content,
.profile-card {
    background-color: var(--bg-card);
    color: var(--text-primary);
    box-shadow: var(--shadow-md);
    transition: background-color var(--transition-normal), box-shadow var(--transition-normal);
}

/* En-têtes et titres */
h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary);
    transition: color var(--transition-normal);
}

/* Paragraphes et textes */
p, span, label, li {
    color: var(--text-secondary);
    transition: color var(--transition-normal);
}

/* Liens */
a {
    color: var(--text-link);
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--text-link-hover);
}

/* Boutons */
button,
.btn,
input[type="submit"],
input[type="button"] {
    background-color: var(--accent-primary);
    color: var(--text-inverse);
    border: 1px solid var(--border-primary);
    transition: all var(--transition-fast);
}

button:hover,
.btn:hover,
input[type="submit"]:hover,
input[type="button"]:hover {
    background-color: var(--accent-hover);
    box-shadow: var(--shadow-md);
}

button:disabled,
.btn:disabled {
    opacity: var(--opacity-disabled);
    cursor: not-allowed;
}

/* Boutons secondaires */
.btn-secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border-secondary);
}

.btn-secondary:hover {
    background-color: var(--bg-hover);
}

/* Champs de formulaire */
input,
textarea,
select {
    background-color: var(--bg-input);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
    transition: all var(--transition-fast);
}

input:focus,
textarea:focus,
select:focus {
    border-color: var(--border-focus);
    outline: none;
    box-shadow: 0 0 0 3px var(--accent-light);
}

input::placeholder,
textarea::placeholder {
    color: var(--text-tertiary);
}

/* Tables */
table {
    background-color: var(--bg-card);
    border: 1px solid var(--border-primary);
}

thead {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

tbody tr {
    border-bottom: 1px solid var(--border-primary);
    transition: background-color var(--transition-fast);
}

tbody tr:hover {
    background-color: var(--bg-hover);
}

td, th {
    color: var(--text-primary);
    border-color: var(--border-primary);
}

/* Modales */
.modal,
.overlay {
    background-color: rgba(0, 0, 0, 0.7);
}

[data-theme="dark"] .modal,
[data-theme="dark"] .overlay {
    background-color: rgba(0, 0, 0, 0.85);
}

/* Navigation */
nav,
.navbar,
.header,
.sidebar {
    background-color: var(--bg-secondary);
    border-bottom: 1px solid var(--border-primary);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-normal);
}

/* Badges et tags */
.badge,
.tag,
.label {
    background-color: var(--accent-light);
    color: var(--accent-primary);
    border: 1px solid var(--accent-primary);
    transition: all var(--transition-fast);
}

/* Alertes et messages */
.alert-success {
    background-color: var(--success-bg);
    color: var(--success);
    border-color: var(--success);
}

.alert-warning {
    background-color: var(--warning-bg);
    color: var(--warning);
    border-color: var(--warning);
}

.alert-error,
.alert-danger {
    background-color: var(--error-bg);
    color: var(--error);
    border-color: var(--error);
}

.alert-info {
    background-color: var(--info-bg);
    color: var(--info);
    border-color: var(--info);
}

/* Séparateurs */
hr {
    border-color: var(--border-primary);
    transition: border-color var(--transition-normal);
}

/* Code et préformaté */
code,
pre {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
}

/* Scrollbar personnalisée (Chrome/Edge) */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
    background: var(--border-secondary);
    border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* Scrollbar Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--border-secondary) var(--bg-secondary);
}

/* ==========================================
   ANIMATIONS DE TRANSITION
   ========================================== */

/* Transition fluide lors du changement de thème */
body,
.container,
.card,
button,
input,
textarea,
select,
a,
h1, h2, h3, h4, h5, h6,
p,
nav,
.navbar,
table,
tbody tr {
    transition-property: background-color, color, border-color, box-shadow;
    transition-duration: var(--transition-normal);
    transition-timing-function: ease-in-out;
}

/* ==========================================
   SUPPORT DU MODE PRÉFÉRENCE SYSTÈME
   ========================================== */

/* Applique automatiquement le mode sombre si l'utilisateur préfère le mode sombre au niveau système
   ET qu'aucune préférence manuelle n'a été définie */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        /* Variables mode sombre appliquées automatiquement */
        --bg-primary: #0f172a;
        --bg-secondary: #1e293b;
        --bg-tertiary: #334155;
        --bg-hover: #475569;
        --bg-input: #1e293b;
        --bg-modal: #1e293b;
        --bg-card: #1e293b;
        --text-primary: #f1f5f9;
        --text-secondary: #cbd5e1;
        --text-tertiary: #94a3b8;
        --text-inverse: #0f172a;
        --text-link: #60a5fa;
        --text-link-hover: #93c5fd;
        --border-primary: #334155;
        --border-secondary: #475569;
        --border-focus: #60a5fa;
        --accent-primary: #60a5fa;
        --accent-secondary: #3b82f6;
        --accent-hover: #93c5fd;
        --accent-light: #1e3a8a;
        --success: #34d399;
        --success-bg: #064e3b;
        --warning: #fbbf24;
        --warning-bg: #78350f;
        --error: #f87171;
        --error-bg: #7f1d1d;
        --info: #60a5fa;
        --info-bg: #1e3a8a;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
        --gradient-primary: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
        --gradient-secondary: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
    }
}

/* ==========================================
   UTILITAIRES
   ========================================== */

/* Classes utilitaires pour forcer un thème */
.force-light-theme {
    color-scheme: light;
}

.force-dark-theme {
    color-scheme: dark;
}

/* Animation de pulsation pour le bouton toggle */
@keyframes pulse-theme {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

.theme-toggle-btn.animating {
    animation: pulse-theme 0.5s ease-in-out;
}

/* Icône soleil/lune dans le bouton */
.theme-icon {
    display: inline-block;
    transition: transform var(--transition-normal);
}

[data-theme="dark"] .theme-icon {
    transform: rotate(180deg);
}
